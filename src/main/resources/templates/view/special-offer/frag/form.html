<form
  method="POST"
  th:fragment="form(create , btnText , specialOffer)"
  th:action="${create} ? @{/special-offers/create} : @{/special-offers/edit/{id} (id=${specialOffer.id})}"
  th:object="${specialOffer}"
>
  <div class="my_form-el">
    <input
      type="text"
      name="title"
      th:value="*{title}"
      placeholder="Inserisci titolo"
      modelAttribute="specialOffer"
    />
  </div>
  <div class="my_form-el">
    <input
      type="date"
      name="start"
      th:value="*{start}"
      modelAttribute="specialOffer"
    />
    <span th:if="${errors != null && errors.hasFieldErrors('start')}"
      >[[${errors.getFieldError('start').defaultMessage}]]</span
    >
  </div>
  <div class="my_form-el">
    <input
      type="date"
      name="end"
      th:value="*{end}"
      modelAttribute="specialOffer"
    />
    <span th:if="${errors != null && errors.hasFieldErrors('end')}"
      >[[${errors.getFieldError('end').defaultMessage}]]</span
    >
  </div>
  <div class="my_form-el">
    <input
      type="number"
      name="discount"
      th:value="*{discount}"
      placeholder="Inserisci sconto"
      modelAttribute="specialOffer"
    />
    <span th:if="${errors != null && errors.hasFieldErrors('discount')}"
      >[[${errors.getFieldError('discount').defaultMessage}]]</span
    >
  </div>
  <div class="my_form-el">
    <select name="pizza">
      <option
        th:each="pizza : ${pizzas}"
        th:object="${pizza}"
        th:value="*{id}"
        th:selected="${create} ? '' : ${specialOffer.pizza.id==pizza.id}"
      >
        [[ *{name} ]]
      </option>
    </select>
  </div>
  <button type="submit">[[${btnText}]]</button>
</form>
